===================================================
ИНСТРУКЦИЯ ПО УСТАНОВКЕ И ЗАПУСКУ TELEGRAM-БОТА
===================================================

Этот файл содержит подробные инструкции по установке и запуску 
Telegram-бота для массовых рассылок на Windows и Linux.


СОДЕРЖАНИЕ:
-----------
1. Что делает этот бот
2. Установка Python
   - Для Windows
   - Для Linux
3. Скачивание и настройка бота
4. Создание Telegram-бота через BotFather
5. Настройка бота
6. Запуск бота
   - В Windows
   - В Linux
7. Основные команды бота
8. Решение проблем


1. ЧТО ДЕЛАЕТ ЭТОТ БОТ
---------------------
Этот Telegram-бот предназначен для отправки массовых рассылок подписчикам.
Функции бота:
- Управление подписками пользователей
- Отправка сообщений всем подписчикам сразу
- Планирование рассылок на определенное время
- Поддержка разных типов сообщений (текст, фото, видео)


2. УСТАНОВКА PYTHON
------------------

ДЛЯ WINDOWS:
------------

1. Скачайте Python 3.10.11:
   - Перейдите по ссылке: https://www.python.org/downloads/release/python-31011/
   - Прокрутите вниз до раздела "Files" и скачайте "Windows installer (64-bit)"

2. Установите Python:
   - Запустите скачанный файл
   - ВАЖНО: Поставьте галочку "Add Python 3.10 to PATH" в начале установки!
   - Нажмите "Install Now"

3. Проверьте установку:
   - Откройте командную строку (нажмите Win+R, введите "cmd" и нажмите Enter)
   - Введите команду: python --version
   - Должно появиться сообщение с версией Python (например, "Python 3.10.11")


ДЛЯ LINUX:
----------

1. Откройте терминал (Ctrl+Alt+T в Ubuntu)

2. Установите необходимые пакеты:
   ```
   sudo apt update
   sudo apt install software-properties-common
   ```

3. Добавьте репозиторий Python и установите Python 3.10:
   ```
   sudo add-apt-repository ppa:deadsnakes/ppa
   sudo apt update
   sudo apt install python3.10 python3.10-venv python3.10-dev python3-pip
   ```

4. Проверьте установку:
   ```
   python3.10 --version
   ```
   Должно появиться сообщение "Python 3.10.x"


3. СКАЧИВАНИЕ И НАСТРОЙКА БОТА
-----------------------------

ДЛЯ WINDOWS:
------------

1. Создайте папку для бота:
   - Откройте проводник
   - Создайте новую папку, например, C:\telegram-bot

2. Сохраните все файлы бота в эту папку:
   - main.py
   - requirements.txt
   - .env (создадим позже)


ДЛЯ LINUX:
----------

1. Создайте папку для бота:
   ```
   mkdir ~/telegram-bot
   cd ~/telegram-bot
   ```

2. Сохраните все файлы бота в эту папку:
   - main.py
   - requirements.txt
   - .env (создадим позже)


4. СОЗДАНИЕ TELEGRAM-БОТА ЧЕРЕЗ BOTFATHER
---------------------------------------

1. Откройте Telegram и найдите @BotFather (официальный бот для создания ботов)

2. Напишите команду: /newbot

3. Придумайте имя для вашего бота (например, "Мой бот рассылки")

4. Придумайте username для бота, который должен заканчиваться на "bot" 
   (например, "my_newsletter_bot")

5. После успешного создания BotFather даст вам TOKEN бота. 
   Это выглядит примерно так: 1234567890:ABCDefGhIJKlmNoPQRsTUVwxyZ

6. ВАЖНО: Сохраните этот токен! Он понадобится для настройки бота.


5. НАСТРОЙКА БОТА
---------------

1. Создайте файл .env в папке с ботом:

ДЛЯ WINDOWS:
------------
   - Откройте Блокнот (Notepad)
   - Вставьте:
     ```
     BOT_TOKEN=ваш_токен_от_BotFather
     ADMIN_IDS=ваш_id_в_телеграм
     ```
   - Замените "ваш_токен_от_BotFather" на токен, полученный от BotFather
   - Замените "ваш_id_в_телеграм" на ваш Telegram ID (узнать его можно у бота @userinfobot)
   - Сохраните файл с именем ".env" (с точкой в начале) в папке с ботом
   
   ВНИМАНИЕ: При сохранении файла в Блокноте укажите:
   - Имя файла: .env
   - Тип файла: Все файлы (а не Текстовые документы)

ДЛЯ LINUX:
----------
   - Откройте терминал и перейдите в папку с ботом
   - Выполните команду:
     ```
     nano .env
     ```
   - Вставьте:
     ```
     BOT_TOKEN=ваш_токен_от_BotFather
     ADMIN_IDS=ваш_id_в_телеграм
     ```
   - Замените "ваш_токен_от_BotFather" на токен, полученный от BotFather
   - Замените "ваш_id_в_телеграм" на ваш Telegram ID
   - Сохраните файл: нажмите Ctrl+O, затем Enter, затем Ctrl+X для выхода


6. УСТАНОВКА ЗАВИСИМОСТЕЙ И ЗАПУСК БОТА
-------------------------------------

ДЛЯ WINDOWS:
------------

1. Откройте командную строку от имени администратора:
   - Нажмите Win + X
   - Выберите "Windows Terminal (Администратор)" или "Командная строка (Администратор)"

2. Перейдите в папку с ботом:
   ```
   cd C:\путь\к\вашей\папке\telegram-bot
   ```
   Например: `cd C:\telegram-bot`

3. Создайте виртуальное окружение:
   ```
   python -m venv venv
   ```

4. Активируйте виртуальное окружение:
   ```
   venv\Scripts\activate
   ```
   В командной строке должен появиться префикс (venv)

5. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

6. Запустите бота:
   ```
   python main.py
   ```

ДЛЯ LINUX:
----------

1. Откройте терминал и перейдите в папку с ботом:
   ```
   cd ~/telegram-bot
   ```

2. Создайте виртуальное окружение:
   ```
   python3.10 -m venv venv
   ```

3. Активируйте виртуальное окружение:
   ```
   source venv/bin/activate
   ```
   В терминале должен появиться префикс (venv)

4. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```

5. Запустите бота:
   ```
   python main.py
   ```


7. ОСНОВНЫЕ КОМАНДЫ БОТА
----------------------

После запуска вы можете использовать следующие команды в чате с ботом:

ДЛЯ ВСЕХ ПОЛЬЗОВАТЕЛЕЙ:
- /start - начало работы с ботом
- /subscribe - подписаться на рассылку
- /unsubscribe - отписаться от рассылки
- /status - проверить статус подписки

ТОЛЬКО ДЛЯ АДМИНИСТРАТОРОВ:
- /send_message - отправить сообщение всем подписчикам
- /stats - просмотр статистики бота (подписчики, рассылки)


8. РЕШЕНИЕ ПРОБЛЕМ
----------------

Проблема: Бот не запускается, выдает ошибку "No module named 'aiogram'"
Решение: Проверьте, что вы активировали виртуальное окружение и установили зависимости

Проблема: При запуске бота ошибка "No such file or directory"
Решение: Убедитесь, что вы находитесь в правильной папке с файлами бота

Проблема: Бот запустился, но не отвечает на команды
Решение: 
- Проверьте, правильно ли указан токен в файле .env
- Убедитесь, что бот запущен (в консоли должно быть сообщение "Бот запущен и готов к работе!")
- В Telegram найдите вашего бота по имени и нажмите кнопку "Start" или отправьте команду /start

Проблема: Бот отвечает, но не работают команды администратора
Решение: Проверьте, правильно ли указан ваш ID в файле .env (в параметре ADMIN_IDS)


ЗАПУСК БОТА ПРИ СЛЕДУЮЩЕМ ИСПОЛЬЗОВАНИИ
-------------------------------------

ДЛЯ WINDOWS:
- Откройте командную строку
- Перейдите в папку с ботом: `cd C:\путь\к\telegram-bot`
- Активируйте виртуальное окружение: `venv\Scripts\activate`
- Запустите бота: `python main.py`

ДЛЯ LINUX:
- Откройте терминал
- Перейдите в папку с ботом: `cd ~/telegram-bot`
- Активируйте виртуальное окружение: `source venv/bin/activate`
- Запустите бота: `python main.py`

Для остановки бота: нажмите Ctrl+C в окне командной строки/терминала